# 豆瓣电影Top250 数据分析系统

## 项目简介

这是一个基于Python Flask框架开发的豆瓣电影Top250网络爬虫及数据分析系统，适合作为Python期末作业项目。

## 功能特点

- 🕷️ **网络爬虫**：自动爬取豆瓣电影Top250数据
- 📊 **数据分析**：多维度数据统计与可视化
- 📁 **CSV导出**：支持CSV格式数据导出
- 🎨 **前端界面**：美观的Web交互界面
- 📈 **图表展示**：使用Chart.js进行数据可视化

## 技术栈

### 后端
- Python 3.x
- Flask（Web框架）
- Requests（HTTP请求）
- BeautifulSoup4（HTML解析）

### 前端
- HTML5 + CSS3
- JavaScript（原生）
- Chart.js（图表库）

## 项目结构

```
python/
├── app.py                 # Flask主应用
├── scrape.py             # 爬虫模块
├── analysis.py           # 数据分析模块
├── requirements.txt      # Python依赖包
├── README.md            # 项目说明
├── data/                # 数据存储目录
│   └── douban_top250.csv
├── templates/           # HTML模板
│   └── index.html
└── static/              # 静态资源
    ├── css/
    │   └── style.css
    └── js/
        └── main.js
```

## 安装步骤

### 1. 克隆或下载项目

```bash
cd D:\CodeField\python
```

### 2. 安装Python依赖

```bash
pip install -r requirements.txt
```

### 3. 运行项目

```bash
python app.py
```

### 4. 访问系统

在浏览器中打开：`http://127.0.0.1:5000`

## 使用说明

### 1. 数据爬取
- 点击"爬虫控制"标签页
- 点击"开始爬取"按钮
- 等待2-5分钟完成爬取
- 爬取完成后可下载CSV文件

### 2. 数据概览
- 查看电影总数、平均评分等统计信息
- 浏览Top 10电影列表

### 3. 电影列表
- 查看完整的250部电影列表
- 支持搜索功能（按标题、导演、演员、类型）
- 分页浏览

### 4. 数据分析
- 评分分布图表
- 电影类型分布
- 产地分布
- 年代分布
- 导演作品数统计

## 数据字段说明

CSV文件包含以下字段：

| 字段名 | 说明 |
|--------|------|
| rank | 电影排名 |
| title | 电影名称 |
| director | 导演 |
| actors | 主要演员 |
| year | 上映年份 |
| country | 制片国家/地区 |
| genre | 电影类型 |
| rating | 豆瓣评分 |
| rating_people | 评价人数 |
| quote | 经典台词/简介 |

## 核心代码说明

### 爬虫模块 (scrape.py)
- 使用BeautifulSoup解析HTML
- 实现了随机User-Agent轮换
- 添加随机延迟避免反爬
- 完整解析电影信息

### 数据分析模块 (analysis.py)
- 评分分布统计
- 类型、产地、年代分析
- 导演作品数统计
- 支持关键词搜索

### Flask应用 (app.py)
- RESTful API设计
- 数据接口与页面路由
- CSV文件下载功能

## 注意事项

⚠️ **重要提醒**：
1. 本项目仅供学习研究使用
2. 爬取数据时请遵守网站robots.txt协议
3. 避免频繁爬取，已实现随机延迟
4. 数据版权归豆瓣所有

## 常见问题

### Q: 爬取失败怎么办？
A: 可能是网络问题或被反爬，请稍后重试。

### Q: 如何修改爬取数量？
A: 在scrape.py中修改range(0, 250, 25)的参数。

### Q: 可以爬取其他网站吗？
A: 可以，需要修改scrape.py中的URL和解析逻辑。

### Q: 图表不显示？
A: 请确保网络正常，Chart.js需要从CDN加载。

## 项目亮点

✨ **适合期末作业的理由**：
1. 完整的项目结构
2. 清晰的代码注释
3. 美观的前端界面
4. 实用的数据分析功能
5. 详细的项目文档
6. 易于演示和展示

## 扩展建议

如果想进一步完善项目，可以考虑：
- 添加数据库存储（MySQL/SQLite）
- 实现用户登录功能
- 添加电影评论情感分析
- 增加更多图表类型
- 实现定时爬取任务
- 添加电影推荐功能

## 开发者

- 项目类型：Python期末作业
- 开发时间：2024年
- 框架：Flask + BeautifulSoup4 + Chart.js

## 许可证

本项目仅供学习交流使用。

---

**祝你的期末作业取得好成绩！** 🎓

