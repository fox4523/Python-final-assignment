# 豆瓣电影Top250 数据分析系统 - 使用指南

## 🚀 快速启动

### 方法一：使用启动脚本（推荐）
```bash
python run.py
```

### 方法二：直接启动Flask应用
```bash
python app.py
```

### 方法三：测试爬虫模块
```bash
python scrape.py
```

## 📖 详细操作步骤

### 第一步：启动Web服务器
1. 打开命令行（cmd或PowerShell）
2. 进入项目目录：`cd D:\CodeField\python`
3. 运行：`python app.py`
4. 看到提示后，打开浏览器访问：http://127.0.0.1:5000

### 第二步：爬取数据
1. 点击顶部导航栏的"爬虫控制"标签页
2. 点击"▶ 开始爬取"按钮
3. 等待2-5分钟（会显示进度）
4. 爬取完成后会显示成功消息

### 第三步：查看数据
**数据概览**
- 自动显示电影总数、平均评分等统计信息
- 查看Top 10电影列表

**电影列表**
- 查看完整的250部电影
- 使用搜索框搜索电影
- 支持按标题、导演、演员、类型搜索
- 分页浏览

**数据分析**
- 查看5种数据可视化图表
- 评分分布、类型分布、产地分布等

### 第四步：导出数据
1. 在"爬虫控制"页面
2. 点击"📥 下载CSV文件"按钮
3. CSV文件会自动下载到你的下载目录

## 📊 功能说明

### 1. 数据概览页面
- **统计卡片**：显示关键指标
  - 电影总数
  - 平均评分
  - 平均评价人数
  - 最高评分
- **Top 10列表**：最受欢迎的10部电影

### 2. 电影列表页面
- **搜索功能**：输入关键词搜索
- **表格显示**：清晰展示所有电影信息
- **分页浏览**：每页25部电影

### 3. 数据分析页面
- **评分分布图**：柱状图显示评分区间分布
- **类型分布图**：饼图显示电影类型占比
- **产地分布图**：饼图显示制片国家分布
- **年代分布图**：折线图显示年代分布
- **导演统计图**：柱状图显示高产导演

### 4. 爬虫控制页面
- **开始爬取**：启动爬虫任务
- **下载CSV**：导出数据文件
- **状态提示**：实时显示爬取状态

## 💡 使用技巧

### 搜索技巧
- 搜索电影名：输入"肖申克"
- 搜索导演：输入"张艺谋"
- 搜索类型：输入"科幻"
- 搜索年份：输入"1994"

### CSV文件使用
- 使用Excel打开：双击CSV文件
- 使用记事本查看：右键 -> 打开方式 -> 记事本
- 导入其他工具：支持所有支持CSV的软件

## ⚠️ 注意事项

1. **首次使用**：必须先爬取数据，否则页面无数据显示
2. **爬取时间**：完整爬取约需2-5分钟，请耐心等待
3. **网络要求**：需要能访问豆瓣网站
4. **数据更新**：可以多次爬取，会覆盖旧数据
5. **浏览器兼容**：推荐使用Chrome、Edge、Firefox

## 🐛 常见问题

### Q1: 启动失败提示缺少模块？
**A:** 运行 `pip install -r requirements.txt` 安装依赖

### Q2: 爬取失败或超时？
**A:** 可能原因：
- 网络连接问题，检查网络
- 豆瓣反爬机制，稍后重试
- 防火墙拦截，检查防火墙设置

### Q3: 图表不显示？
**A:** 
- 确保网络正常（需要加载Chart.js）
- 刷新页面重试
- 检查浏览器控制台错误

### Q4: CSV文件乱码？
**A:** 
- 使用Excel打开时选择UTF-8编码
- 或使用记事本另存为时选择编码

### Q5: 端口被占用？
**A:** 修改app.py最后一行的port参数，如改为5001

## 📝 期末答辩要点

### 技术亮点
1. **爬虫技术**：BeautifulSoup解析、反爬策略
2. **Web框架**：Flask RESTful API设计
3. **前端技术**：响应式布局、图表可视化
4. **数据处理**：CSV导出、多维度分析

### 演示流程建议
1. 介绍项目背景和功能（1分钟）
2. 展示爬虫过程（2分钟）
3. 演示数据分析功能（2分钟）
4. 展示CSV导出（1分钟）
5. 讲解核心代码（3分钟）
6. 总结项目亮点（1分钟）

### 核心代码讲解
- **scrape.py**：爬虫实现原理
- **analysis.py**：数据分析算法
- **app.py**：Flask路由设计
- **前端交互**：Ajax异步请求

## 🎓 学习价值

通过这个项目，你将学到：
- ✅ Python网络爬虫开发
- ✅ Flask Web框架使用
- ✅ 数据分析与可视化
- ✅ 前后端交互设计
- ✅ CSV数据处理
- ✅ 项目工程化实践

## 📞 技术支持

如遇问题：
1. 查看README.md文档
2. 检查代码注释
3. 查看浏览器控制台错误
4. 检查Python终端输出

---

**祝你答辩成功！** 🎉

